.module "HelloWorld"
.entry "main()i"

section classes
class Test:
    field public int x

section code

function public long fib(class Test):
    .locals 2

    ldi 1
    dup
    store 0
    store 1

    cond:
        load 0
        load 1
        cmp
        jge return
    loop:
        load 0
        dup
        load 1
        add
        store 0
        store 1
        jmp cond
    return:
        load 0
        ret

function public int main():
    hlt